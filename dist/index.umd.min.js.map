{"version":3,"file":"index.umd.min.js","sources":["../src/index.js"],"sourcesContent":["const VueMulticlick = {\n  name: \"vue-multiclick\",\n  props: {\n    items: {\n      type: Array,\n      required: true\n    },\n    uid: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      selectedItems: [],\n      lastSelected: null\n    }\n  },\n  computed: {\n    selectedIndexes() {\n      return this.selectedItems.map(item => this.items.indexOf(item))\n    },\n    lastSelectedIndex() {\n      return this.getSelectedItemIndex(this.lastSelected)\n    }\n  },\n  methods: {\n    itemClicked(item, $event = {}) {\n      if (($event.metaKey || $event.ctrlKey) && !$event.shiftKey) {\n        if (this.itemIsDuplicate(item)) {\n          this.removeFromSelection(item)\n        } else {\n          this.appendToSelection(item)\n        }\n      } else if ($event.shiftKey) {\n        this.setSelectedItems(item)\n      } else {\n        this.setSelectedItem(item)\n      }\n      this.lastSelected = item\n    },\n    setSelectedItem(item) {\n      this.selectedItems = [item]\n    },\n    setSelectedItems(item) {\n      const itemIndex = this.getSelectedItemIndex(item)\n\n      if (!this.selectedItems.length) {\n        for (let i = 0; i <= itemIndex; i++) {\n          this.appendToSelection(this.items[i])\n        }\n      } else {\n        if (itemIndex >= this.lastSelectedIndex) {\n          for (let i = this.lastSelectedIndex; i <= itemIndex; i++) {\n            this.appendToSelection(this.items[i])\n          }\n        } else {\n          for (let i = itemIndex; i <= this.lastSelectedIndex; i++) {\n            this.appendToSelection(this.items[i])\n          }\n        }\n      }\n    },\n    appendToSelection(item) {\n      this.selectedItems = [...new Set(this.selectedItems.concat([item]))]\n    },\n    removeFromSelection(item) {\n      this.selectedItems = this.selectedItems.filter(i => i[this.uid] !== item[this.uid])\n    },\n    getSelectedItemIndex(item) {\n      return this.items.findIndex(i => {\n        return i[this.uid] === item[this.uid]\n      })\n    },\n    itemIsDuplicate(item) {\n      return this.selectedItems.map(i => i[this.uid]).includes(item[this.uid])\n    },\n    selectAll() {\n      this.selectedItems = this.items\n    },\n    deselectAll() {\n      this.selectedItems = []\n    }\n  },\n  render() {\n    return this.$scopedSlots.default({\n      selectedItems: this.selectedItems,\n      selectedIndexes: this.selectedIndexes,\n      itemClicked: this.itemClicked\n    })\n  }\n}\n\nif (typeof window !== \"undefined\" && window.Vue) {\n  window.Vue.component(VueMulticlick.name, VueMulticlick)\n}\n\nexport default VueMulticlick\n"],"names":["VueMulticlick","name","props","items","type","Array","required","uid","String","data","selectedItems","lastSelected","computed","selectedIndexes","this","map","item","_this","indexOf","lastSelectedIndex","getSelectedItemIndex","methods","itemClicked","$event","metaKey","ctrlKey","shiftKey","setSelectedItems","setSelectedItem","itemIsDuplicate","removeFromSelection","appendToSelection","itemIndex","length","i","Set","concat","filter","_this2","findIndex","_this3","_this4","includes","selectAll","deselectAll","render","$scopedSlots","default","window","Vue","component"],"mappings":"whBAAA,IAAMA,EAAgB,CACpBC,KAAM,iBACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,MACNC,UAAU,GAEZC,IAAK,CACHH,KAAMI,OACNF,UAAU,IAGdG,sBACS,CACLC,cAAe,GACfC,aAAc,OAGlBC,SAAU,CACRC,6CACSC,KAAKJ,cAAcK,IAAI,SAAAC,UAAQC,EAAKd,MAAMe,QAAQF,MAE3DG,oCACSL,KAAKM,qBAAqBN,KAAKH,gBAG1CU,QAAS,CACPC,qBAAYN,OAAMO,yDAAS,IACpBA,EAAOC,UAAWD,EAAOE,SAAaF,EAAOG,SAMvCH,EAAOG,cACXC,iBAAiBX,QAEjBY,gBAAgBZ,GARjBF,KAAKe,gBAAgBb,QAClBc,oBAAoBd,QAEpBe,kBAAkBf,QAOtBL,aAAeK,GAEtBY,yBAAgBZ,QACTN,cAAgB,CAACM,IAExBW,0BAAiBX,OACTgB,EAAYlB,KAAKM,qBAAqBJ,MAEvCF,KAAKJ,cAAcuB,UAKlBD,GAAalB,KAAKK,sBACf,IAAIe,EAAIpB,KAAKK,kBAAmBe,GAAKF,EAAWE,SAC9CH,kBAAkBjB,KAAKX,MAAM+B,aAG/B,IAAIA,EAAIF,EAAWE,GAAKpB,KAAKK,kBAAmBe,SAC9CH,kBAAkBjB,KAAKX,MAAM+B,aAVjC,IAAIA,EAAI,EAAGA,GAAKF,EAAWE,SACzBH,kBAAkBjB,KAAKX,MAAM+B,KAcxCH,2BAAkBf,QACXN,gBAAoB,IAAIyB,IAAIrB,KAAKJ,cAAc0B,OAAO,CAACpB,OAE9Dc,6BAAoBd,mBACbN,cAAgBI,KAAKJ,cAAc2B,OAAO,SAAAH,UAAKA,EAAEI,EAAK/B,OAASS,EAAKsB,EAAK/B,QAEhFa,8BAAqBJ,qBACZF,KAAKX,MAAMoC,UAAU,SAAAL,UACnBA,EAAEM,EAAKjC,OAASS,EAAKwB,EAAKjC,QAGrCsB,yBAAgBb,qBACPF,KAAKJ,cAAcK,IAAI,SAAAmB,UAAKA,EAAEO,EAAKlC,OAAMmC,SAAS1B,EAAKF,KAAKP,OAErEoC,0BACOjC,cAAgBI,KAAKX,OAE5ByC,4BACOlC,cAAgB,KAGzBmC,yBACS/B,KAAKgC,aAAaC,QAAQ,CAC/BrC,cAAeI,KAAKJ,cACpBG,gBAAiBC,KAAKD,gBACtBS,YAAaR,KAAKQ,sBAKF,oBAAX0B,QAA0BA,OAAOC,KAC1CD,OAAOC,IAAIC,UAAUlD,EAAcC,KAAMD"}